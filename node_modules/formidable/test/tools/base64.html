<html><head><title>Convert a file to a base64 request</title><script type="text/javascript">function form_submit(e){console.log(e);var t=document.getElementById("resultOutput"),n=document.getElementById("fileInput"),a=document.getElementById("fieldInput");return makeRequestBase64(n.files[0],a.value,function(e,n){t.value=n}),!1}function makeRequestBase64(e,t,n){var a="\\/\\/\\/\\/\\/\\/\\/\\/\\/\\/\\/\\/\\/\\/\\/\\/\\/\\/\\/\\/\\/\\/\\/\\/\\/\\/\\/\\/\\/",o="\r\n",u=new FileReader;u.onload=function(u){var l="";l+="--"+a+o,l+='Content-Disposition: form-data; name="'+t+'"; filename="'+escape(e.name)+'"'+o,l+="Content-Type: "+e.type+o,l+="Content-Transfer-Encoding: base64"+o,l+=o,l+=u.target.result.substring(u.target.result.indexOf(",")+1)+o,l+="--"+a+"--";var r="";r+="POST /upload HTTP/1.1"+o,r+="Host: localhost:8080"+o,r+="Content-Type: multipart/form-data; boundary="+a+o,r+="Content-Length: "+l.length+o,n(null,r+o+l)},u.readAsDataURL(e)}</script></head><body><form action="" onsubmit="return form_submit()"><label>File: <input id="fileInput" type="file"></label><br><label>Field: <input id="fieldInput" type="text" value="file"></label><br><button type="submit">Ok!</button><br><label>Request:<textarea id="resultOutput" readonly rows="20" cols="80"></textarea></label><br></form><p>Don't forget to save the output with windows (CRLF) line endings!</p></body></html>